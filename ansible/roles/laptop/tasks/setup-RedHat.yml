---
- name: Add general flathub
  community.general.flatpak_remote:
    name: flathub
    state: present
    flatpakrepo_url: https://flathub.org/repo/flathub.flatpakrepo

- name: Install flatpack packages
  community.general.flatpak:
    name: "{{ item }}"
    state: present
    method: system
  with_items: "{{ flatpacks }}"

# Setup termite repo
- name: Enable project Test of the user schlupov
  community.general.copr:
    name: skidnik/termite

# Install codium aka vscode oss repo
- name: codium gpg
  rpm_key:
    key: https://gitlab.com/paulcarroty/vscodium-deb-rpm-repo/-/raw/master/pub.gpg
    state: present

- name: codium repo
  yum_repository:
    name: vscodium.repo
    description: VS codium aka vscode oss
    baseurl: https://download.vscodium.com/rpms/
    gpgcheck: true
    gpgkey: https://gitlab.com/paulcarroty/vscodium-deb-rpm-repo/-/raw/master/pub.gpg

# Install codium aka vscode oss repo
- name: az gpg
  rpm_key:
    key: https://packages.microsoft.com/keys/microsoft.asc
    state: present

- name: az cli repo
  yum_repository:
    name: az.repo
    description: az cli
    baseurl: https://packages.microsoft.com/yumrepos/azure-cli
    gpgcheck: true
    gpgkey: https://packages.microsoft.com/keys/microsoft.asc

# Install codium aka vscode oss repo
- name: google cli gpg
  rpm_key:
    key: https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
    state: present

- name: google repo
  yum_repository:
    name: Google Cloud CLI
    description: Google Cloud CLI
    baseurl: https://packages.cloud.google.com/yum/repos/cloud-sdk-el8-x86_64
    gpgcheck: true
    gpgkey: https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg

# Install packages
- name: Install packages
  dnf:
    name: "{{ fedoraPackages }}"
    state: present
